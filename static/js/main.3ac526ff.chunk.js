(this["webpackJsonpdreaming-story-formatter"]=this["webpackJsonpdreaming-story-formatter"]||[]).push([[0],{173:function(e,t,a){e.exports=a(234)},178:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a.n(n),o=a(170),l=a.n(o),c=(a(178),a(1)),i=a(2),s=a(21),u=a(5),p=a(4);var m=function(){return r.a.createElement("header",null,r.a.createElement("h1",null,r.a.createElement("a",{href:"index.html"},"DREAM!ing STORY FORMATTER")),r.a.createElement("div",{className:"horizontal"},r.a.createElement("p",null,"A website to more easily upload event/gacha stories from the mobile idol game Ensemble Stars to the fandom wiki.",r.a.createElement("br",null),'It takes formats your story chapter into text that can be pasted directly into the "source" section of the page.',r.a.createElement("br",null),"Developed by ",r.a.createElement("a",{target:"_blank",href:"https://twitter.com/gayandasleep"},"midori"),"."),r.a.createElement("ul",{id:"navbar"},r.a.createElement("li",null,r.a.createElement("a",{href:"./howto.html"},"HOW TO USE")),r.a.createElement("li",null,r.a.createElement("a",{href:"./plans.html"},"DESIGN PLANS")),r.a.createElement("li",null,r.a.createElement("a",{target:"_blank",href:"https://goo.gl/forms/Xu42LLAgWKxVYV873"},"FEEDBACK")))))},d=a(159),h=a.n(d),E=a(161),f=a(165),b=a(166),v=a(162),g=a(172),O=a(164),y=a(163),k=a(126),A=["YUMA","YANAGI","TOUJI","SHION","SHINYA","SHIGURE","ISSEI","MIKAGE","SENRI","TAKAOMI","JIN","CHIZURU","KASUKA","MINATO","YUNI","RINTARO","KIRITANI","SARUWATARI","INOH","MAMORU","DYLAN","JUDAH"];function N(e){return(new DOMParser).parseFromString(e,"text/html")}function T(e){return e.querySelectorAll("strong").forEach((function(e){e.replaceWith("'''".concat(e.innerText,"'''"))})),e.querySelectorAll("i").forEach((function(e){e.replaceWith("''".concat(e.innerText,"''"))})),e.querySelectorAll("a").forEach((function(e){e.replaceWith("[".concat(e.href," ").concat(e.innerText,"]"))})),e}var j=function(){var e=function(e){var t=e.querySelectorAll("p"),a=[];return t.forEach((function(e){a.push(e.innerHTML.replace(/&nbsp;/g,""))})),a}(T(N(this.state.input))),t="{{Story Header\n|Title=         \n|Image=         \n|Source=        \n|TranslatorURL= \n|TranslatorName=\n|Chapter=       \n\n",a="";e.forEach((function(e){if(""!=e)if(console.log("analyzing line: "+e),function(e){for(var t=[".png",".gif",".jpg",".jpeg",".ico",".pdf",".svg"],a=0;a<t.length;a++)if(e.toLowerCase().endsWith(t[a]))return!0;return!1}(e))console.log("isFileName: true..."),t+="}}{{Story Image|Image=VALUE\n\n".replace("VALUE",function(e){e=e.trim();for(var t=[".png",".gif",".jpg",".jpeg",".ico",".pdf",".svg"],a=0;a<t.length;a++)if(e.toLowerCase().endsWith(t[a]))return e.replace(t[a],"");return e}(e)),a="";else{var n=e.split(" ")[0];n.includes(":")?(console.log("has colon..."),"LOCATION"===(n=n.slice(0,-1)).toUpperCase()?(console.log("new LOCATION"),t+="}}{{Location|Location=VALUE\n\n".replace("VALUE",e.slice(e.indexOf(":")+1).trim()),a=""):"CHAPTER"===n.toUpperCase()?(console.log("new CHAPTER"),t+="}}{{Chapter Divider|Chapter=VALUE\n      \n".replace("VALUE",e.slice(e.indexOf(":")+1).trim()),a=""):A.includes(n)||(console.log("character speaking... "+n),n!==a&&(console.log("new character detected"),t+="}}{{NAME|Dialogue=".replace("NAME",n),a=n),e=e.slice(e.indexOf(":")+1).trim(),t+=e+"\n\n")):(console.log("no colon, continue dialogue"),t+=e+"\n\n")}})),t+="}}{{Story Footer\n|Prev=          \n|Next=          \n}}",this.setState({output:t})},C={plugins:[f.a,b.a,v.a,O.a,y.a,k.a],toolbar:["bold","italic","link","|","undo","redo"]},S={plugins:[f.a,b.a,v.a,g.a,O.a,y.a,k.a],toolbar:["bold","italic","link","numberedList","|","undo","redo"]};var I=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).convertText=j.bind(Object(s.a)(n)),n.state={input:"<p>If this is your first time using the formatter, please check the <a href='./howto.html'>Text Guidelines</a> to make sure your text is ready.</p>",details:{},tlNotes:"<p>If this is your first time using the formatter, please check the <a href='./howto.html#tlNotesSection'>Text Guidelines</a> for how to add translation notes.</p>",output:""},n.inputEditor=r.a.createElement(h.a,{editor:E.a,config:C,data:n.state.input,id:"inputEditor",spellcheck:!1,onChange:function(e,t){var a=t.getData();n.setState({input:a})}}),n.tlNotesEditor=r.a.createElement(h.a,{editor:E.a,config:S,data:n.state.tlNotes,id:"tlEditor",spellcheck:!1,onChange:function(e,t){var a=t.getData();n.setState({tlNotes:a})}}),n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(x,{inputEditor:this.inputEditor,tlNotesEditor:this.tlNotesEditor}),r.a.createElement(V,{convert:this.convertText}),r.a.createElement(q,{value:this.state.output}))}}]),a}(r.a.Component),x=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).openTab=n.openTab.bind(Object(s.a)(n)),n.state={tabLinks:{Text:"inputArea",Details:"detailArea","TL Notes":"tlArea"},clicked:""},n}return Object(i.a)(a,[{key:"openTab",value:function(e){for(var t="#"+this.state.tabLinks[e],a=document.querySelectorAll(".tabcontent"),n=0;n<a.length;n++)a[n].style.display="none";document.querySelector(t).style.display="block",this.setState({clicked:e})}},{key:"render",value:function(){return r.a.createElement("div",{id:"input"},r.a.createElement(w,{tabs:Object.keys(this.state.tabLinks),clicked:this.state.clicked,openTab:this.openTab}),r.a.createElement(R,{inputEditor:this.props.inputEditor}),r.a.createElement(M,null),r.a.createElement(H,{tlNotesEditor:this.props.tlNotesEditor}))}}]),a}(r.a.Component),w=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={defaultOpen:"Text"},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){document.querySelector("[value='".concat(this.state.defaultOpen,"']")).click()}},{key:"render",value:function(){var e=this,t=this.props.tabs.map((function(t){return r.a.createElement(L,{key:t,value:t,className:"tablink"+(e.props.clicked===t?" active":""),text:t,onClick:function(){return e.props.openTab(t)}})}));return r.a.createElement("div",{className:"tabMenu"},t)}}]),a}(r.a.Component);function L(e){return r.a.createElement("button",{className:e.className,value:e.value,onClick:e.onClick},e.text)}var U=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:this.props.id,className:"tabcontent"},this.props.content)}}]),a}(r.a.Component),R=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(U,{id:"inputArea",content:this.props.inputEditor})}}]),a}(r.a.Component),M=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("h3",null,"Story Details")),r.a.createElement(D,{label:"Title"}),r.a.createElement(D,{label:"Header Image"}),r.a.createElement(D,{label:"Source"}),r.a.createElement(D,{label:"Translator"}),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"spacer"}),r.a.createElement("label",{className:"spacer",htmlFor:"tlLink"},"Translator credit link")),r.a.createElement("div",{className:"row"},r.a.createElement("span",{className:"spacer"}),r.a.createElement("input",{type:"text",id:"tlLink"})));return r.a.createElement(U,{id:"detailArea",content:e})}}]),a}(r.a.Component);function D(e){var t=e.label[0].toUpperCase()+e.label.slice(1,e.label.length).replace(" ","");return r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"spacer"},e.label),r.a.createElement("input",{type:"text",id:t}))}var H=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(U,{id:"tlArea",content:this.props.tlNotesEditor})}}]),a}(r.a.Component),V=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).copyToClip=n.copyToClip.bind(Object(s.a)(n)),n.state={copied:!1},n}return Object(i.a)(a,[{key:"copyToClip",value:function(){document.querySelector("#output").select(),document.execCommand("copy"),this.setState({copied:!0})}},{key:"render",value:function(){return r.a.createElement("div",{id:"btnArea"},r.a.createElement(W,{onClick:this.props.convert,id:"convertBtn",text:"CONVERT"}),r.a.createElement(W,{onClick:this.copyToClip,id:"copyBtn",text:this.state.copied?"Copied":"Copy Output"}))}}]),a}(r.a.Component);function W(e){return r.a.createElement("button",{onClick:e.onClick,id:e.id},e.text)}function q(e){return r.a.createElement("textarea",{id:"output",defaultValue:e.value})}var F=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(I,null))};a(232),a(233);var K=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[173,1,2]]]);
//# sourceMappingURL=main.3ac526ff.chunk.js.map